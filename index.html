<html>
  <head><title>The LISP Benchmark Game</title></head>
<body>
  <h2>Benchmark Games for Gerbil, Racket, Go, and C (GCC)</h2>
  <p>This was originally based on the now defunct Alioth Programming Language Shootout, aka The Benchmark Games.
    Once I posted the site, it was brought to my attention that the Game is <i>still active</i>.
    Mea culpa, I have updated the programs to use the latest programs from the official game site.
    I picked the fastest program for each language; see notes below.
  <p> I run the tests with Gerbil, and compared with Racket, Go, and C.
    The Gerbil programs are new, for the others I used the existing (expertly written and heavily optimized) programs from the <a href="https://benchmarksgame-team.pages.debian.net/benchmarksgame/index.html">23.03 Benchmarks Game</a>.
  <p> Versions used: <b>Gerbil v0.18</b>, <b>Racket v8.6</b>, <b>Go 1.21.2</b>, and <b>GCC 11.4</b>
  <p>The source code for the benchmark game is <a href="https://github.com/vyzo/lisp-benchmarks-game/">here</a>.


  <p>The benchmarks were run on a Dell XPS 13-9320 laptop.
  <p>Each benchmark was run 3 times, and I kept the best value.
  <p><b>Note</b> C programs were compiled with <code>gcc -O2</code>.
  <p><b>Note</b> The benchmark all utilize a <b>single core</b>. I want to compare apples to apples, not how well a given language can multicore. Gerbil is also multicore capable, but the SMP backend is not stable yet; when it is, it will be time for Gerbil v1.0.
    <br>
    For C, I also kept the versions that don't utilize architecture specific extensions, as these are not generally portable and don't even compile on my laptop. I want reproducible benchmarks, not something bogus that relies on a specific Intel chip.
    That means that <b>there may exist faster C programs out there</b>, but they may or may not compile and run on any given machine, so I opted to stay portable.
  <p><b>Note</b>This is not a d*ck swinging contest. I compiled these results to see
    how far I can push Gerbil's performance envelope and evaluate progress as the macrology/compiler improves.
    Take them with a grain of salt.
  <h2>Results</h2>
  <table>
  <tr><td> <b>Color Coding:</b> </td>
      <td style="background-color:lawngreen">best</td>
      <td style="background-color:lightgreen">within 10%</td>
      <td style="background-color:lightcyan">within 10-25%</td>
      <td style="background-color:lightyellow">within 25-50%</td>
      <td style="background-color:yellow">within 50-100%</td>
      <td style="background-color:orange">within 100-200%</td>
      <td style="background-color:orangered">over 200%</td>
  </tr>
  </table>
  <br/>
<table>
<tr>
<th>Benchmark</th>
<th align="center">⋄⋄⋄</th><th align="center">racket</th>
<th align="center">⋄⋄⋄</th><th align="center">go</th>
<th align="center">⋄⋄⋄</th><th align="center">gcc</th>
<th align="center">⋄⋄⋄</th><th align="center">gerbil</th>
</tr>
<tr>
<td>fannkuchredux</td>
<td/><td align="right" style="background-color:orange">4.64 (+153.5%)</td>
<td/><td align="right" style="background-color:lightyellow">2.61 (+42.6%)</td>
<td/><td align="right" style="background-color:lawngreen">1.83 ↻</td>
<td/><td align="right" style="background-color:lightyellow">2.64 (+44.2%)</td>
</tr>
<tr>
<td>nbody</td>
<td/><td align="right" style="background-color:orangered">1.89 (+320.%)</td>
<td/><td align="right" style="background-color:lawngreen">0.45 ↻</td>
<td/><td align="right" style="background-color:lightgreen">0.48 (+6.6%)</td>
<td/><td align="right" style="background-color:lightgreen">0.47 (+4.4%)</td>
</tr>
<tr>
<td>spectralnorm</td>
<td/><td align="right" style="background-color:orangered">3.03 (+697.3%)</td>
<td/><td align="right" style="background-color:yellow">0.75 (+97.3%)</td>
<td/><td align="right" style="background-color:lawngreen">0.38 ↻</td>
<td/><td align="right" style="background-color:lightgreen">0.41 (+7.8%)</td>
</tr>
<tr>
<td>mandelbrot</td>
<td/><td align="right" style="background-color:orange">10.08 (+124.9%)</td>
<td/><td align="right" style="background-color:lightgreen">4.90 (+9.3%)</td>
<td/><td align="right" style="background-color:lightcyan">5.54 (+23.6%)</td>
<td/><td align="right" style="background-color:lawngreen">4.48 ↻</td>
</tr>
<tr>
<td>pidigits</td>
<td/><td align="right" style="background-color:yellow">0.36 (+56.5%)</td>
<td/><td align="right" style="background-color:lightyellow">0.29 (+26.%)</td>
<td/><td align="right" style="background-color:lawngreen">0.23 ↻</td>
<td/><td align="right" style="background-color:lightcyan">0.28 (+21.7%)</td>
</tr>
<tr>
<td>fasta</td>
<td/><td align="right" style="background-color:orangered">1.85 (+478.1%)</td>
<td/><td align="right" style="background-color:orangered">1.31 (+309.3%)</td>
<td/><td align="right" style="background-color:lightyellow">0.43 (+34.3%)</td>
<td/><td align="right" style="background-color:lawngreen">0.32 ↻</td>
</tr>
<tr>
<td>binarytrees</td>
<td/><td align="right" style="background-color:lawngreen">1.53 ↻</td>
<td/><td align="right" style="background-color:orangered">8.77 (+473.2%)</td>
<td/><td align="right" style="background-color:orange">4.43 (+189.5%)</td>
<td/><td align="right" style="background-color:lightcyan">1.77 (+15.6%)</td>
</tr>
</table>
</body>
</html>
